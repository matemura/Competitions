<html>

<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<meta NAME="GENERATOR" CONTENT="Microsoft FrontPage 3.0">
<title>FLATTEN</title>
</head>

<body bgcolor="#A5B4D8" text="#0E2C73" link="#0E2C73" vlink="#0E2C73" alink="#A5B4D8">

<table BGCOLOR="#ffffff" CELLPADDING="20">
  <tr>
    <td><b><font FACE="Arial,Helvetica" SIZE="5"><p ALIGN="left">FLATTEN</p>
    </font><font FACE="Arial,Helvetica" SIZE="4"><p></font><font FACE="Arial,Helvetica"
    size="3">PROBLEM</p>
    </font></b><p ALIGN="JUSTIFY">A solitaire game is played given a row of <i>N</i> piles
    where each pile contains zero or more chips. See Figure 1. Piles are identified by
    integers 1 through <i>N</i>. In a <i>move</i> of this game you point to a pile, say <i>p</i>,
    and specify a number, say <i>m</i>. Then <i>m</i> chips are transferred from the pile <i>p</i>
    to each of its neighboring piles. See Figure 2 for an example.. Pile <i>p</i> has two
    neighbors, <i>p</i>-1 and <i>p</i>+1 if 1&lt;<i>p</i>&lt;<i>N</i>, and the neighbor 2 if <i>p</i>=1,
    and the neighbor <i>N</i>-1 if <i>p</i>=<i>N</i>. Note that to be able to make such a move
    the pile <i>p</i> must have at least 2<i>m</i> chips if it has two neighbors, and it must
    have at least <i>m</i> chips if it has only one neighbor.</p>
    <p ALIGN="JUSTIFY">The object of the game is to &quot;flatten&quot; all piles, that is
    make them have the same number of chips, by making as small as possible number of moves.
    In case there is more than one solution you are required to report only one of them.</p>
    <table>
      <tr>
        <td><img src="flat1.jpg" alt="FIGURE1" width="239" height="135"> </td>
        <td><img src="flat2.jpg" alt="FIGURE1" width="231" height="136"> </td>
      </tr>
      <tr>
        <td><font SIZE="2">Figure 1. Five piles with 0, 7, 8, 1 and 4 chips. </font></td>
        <td><font SIZE="2">Figure 2. Configuration of same piles after a move: <i>p</i>=2, <i>m</i>=2.</font>
        </td>
      </tr>
    </table>
    <font FACE="Arial,Helvetica" SIZE="4"><p></font><font FACE="Arial,Helvetica" size="3"><strong>ASSUMPTIONS</strong></font><font
    SIZE="1"><ul>
      </font>
      <li>It is guaranteed that it is possible to flatten the given piles in at most 110,5 000
        moves.</li>
      <li>2 = <i>N</i> = 200</li>
      <li>0 = <i>C<sub>i</sub> </i>number of chips in a pile = 2000 where <i>C<sub>i </sub></i>.is
        the number of chips in the pile <i>i </i>when the game starts (1 = <i>i</i> = <i>N</i>).</li>
    </ul>
    <font SIZE="3"><p>&nbsp;</p>
    </font><b><font FACE="Arial,Helvetica" SIZE="4"><p></font><font FACE="Arial,Helvetica"
    size="3">INPUT</p>
    </font></b><p>The input is a text file named <font FACE="Courier"><b>flat.inp </b></font>having
    two lines.<ul>
      <li>The first line: <i>contains an integer giving the value of NN</i>. </li>
      <li>On theThe second line: there will be <i>N</i> integers the <i>i </i>th of which is the
        value of <i>C<sub>i</sub></i>.nonnegative integers giving the number of chips in each
        pile. </li>
    </ul>
    <p ALIGN="JUSTIFY">These integers will be separated with one blank. The <i>i</i>&#146;th
    number on the second line will be the number of chips in the pile <i>i </i>(1 = <i>i </i>=
    N<i> </i>) </p>
    <p>&nbsp;</p>
    <b><font FACE="Arial,Helvetica" SIZE="4"><p></font><font FACE="Arial,Helvetica" size="3">OUTPUT</p>
    </font></b><p>The output will bemust be the text file named <font FACE="Courier"><b>flat.out</b>.</font>.<ul>
      <li>The first line: must contain the number of moves. (Call this value <i>, call it M</i>.) </li>
      <li>Each of the following <i>M</i> lines contains two integers representing a move: <i>p</i>,<i>
        m. </i>There must be M lines following the first line, each containing two integers,
        separated by one blank, representing a move. The first integer designates the id-number of
        the pile and the second integer represents the number specified in the move. </li>
    </ul>
    <p ALIGN="JUSTIFY">The order of moves on the output must be the same orderthat the moves
    are performed. So, your first move shall be written to the second line of the output file.</p>
    <p>&nbsp;</p>
    <p><font face="Arial"><b>EXAMPLE</b></font></p>
    <p><font FACE="Courier">flat.inp:</font> </p>
    <table CELLSPACING="0" BORDER="1">
      <tr>
        <td><pre><font FACE="Courier">5
0 7 8 1 4</font></pre>
        </td>
      </tr>
    </table>
    <font FACE="Courier" SIZE="3"><p>flat.out</p>
    </font><font SIZE="3"><table CELLSPACING="0" BORDER="1">
      <tr>
        <td><pre></font><font FACE="Courier" SIZE="3">5
5 2
3 4
2 4
3 1
4 2
</font><font FACE="Courier"></pre>
        </font></td>
      </tr>
    </table>
    <b><font FACE="Arial,Helvetica" SIZE="4"><p></font><font FACE="Arial,Helvetica" size="3">&nbsp;</p>
    </font></b><p><b><font FACE="Arial,Helvetica" size="3">NOTE ON EVALUATION</font></b></p>
    <p>Your program will be allowed to run 3 seconds.</p>
    <p ALIGN="JUSTIFY">To get full credit, <i>A</i>, for a test case, your number of moves, <i>x</i>,
    must be less than or equal to the number <i>B</i>, set by the evaluation program. Note
    that <i>B</i> is not necessarily minimal. In fact, <i>B</i> is chosen for a test case
    depending on the number of moves made by following a simple strategy with no redundant
    moves and the average number of chips in the piles. You can obtain partial credit for a
    test case. The points you get is calculated by rounding to the nearest integer the value
    obtained by the following formula: </p>
    <table CELLSPACING="10">
      <tr>
        <td><i>A</i> </td>
        <td>if <i>x &lt; B</i> </td>
      </tr>
      <tr>
        <td><i>2*A* (2/3 * B - x) /B</i> </td>
        <td>if <i>B &lt; x &lt; 2/3*B </i></td>
      </tr>
      <tr>
        <td>0 </td>
        <td>if <i>x &gt; 3/2*B </i></td>
      </tr>
    </table>
    </td>
  </tr>
</table>
</body>
</html>
