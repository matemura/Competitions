
<!-- saved from url=(0059)http://ace.delos.com/ioiupload?d=gold&a=a2I4GFUlm3j&lang=en -->
<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META http-equiv="Pragma" content="no-cache">
<SCRIPT language="javascript">
<!--
    var endtime;
    
    function initcount(secondsleft) {
        var now = new Date();
        return now.getTime() + secondsleft*1000;
    }
    function count1(i) { i = i - i%1; return i; } 
    function count2(i) { i = i - i%1; if (i < 10) return "0"+i; return i; }
    function updateclock(head, word, endtime) {
        var now = new Date();
        var delta = (endtime - now.getTime())/1000;
        var s, x;
        if(delta < 1)
            s = head + " has ended";
        else{
            s = head + " ends: ";
            s = head + ": ";
            if(delta >= 24*3600)
                s = s + count1(delta/86400) + "d";
            if(delta >= 3600)
                s = s + count2((delta/3600)%24) + "h";
            if(delta >= 60)
                s = s + count2((delta/60)%60) + "m";
            s = s + count2(delta%60) + "s";
            setTimeout("updateclock('"+head+"','"+word+"',"+endtime+")", 500);
        }

        var slot = document.getElementById(word);
        slot.innerHTML = s;
    }
-->
</SCRIPT>

<TITLE>USACO Problems</TITLE>
<STYLE type="text/css"><!--
table,td,body {
font-family: Helvetica, Verdana, Arial, SunSans-Regular, Sans-Serif;
}
--></STYLE>
<SCRIPT>window["_GOOG_TRANS_EXT_VER"] = "1";</SCRIPT></HEAD><BODY onload="" background="./day2_files/bg9gold.jpg">

<FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
<TABLE><TBODY><TR>
<TD><IMG src="./day2_files/cowhead2.gif">
</TD>
<TD valign="top">
<TABLE cellpadding="0" cellspacing="0">
    <TBODY><TR><TD>Contest: USAICO10-2A <B>GOLD</B> Division</TD></TR>
    <TR><TD></TR>
    <TR><TD>Your proctor is Rob Kolstad</TD></TR>
    <TR><TD></TR>
    
</TBODY></TABLE>
</TD></TR>
</TBODY></TABLE>
<FONT color="red"><B>
</B></FONT>

<BR><FONT size="6"><B>ANALYSIS MODE</B></FONT><BR>
Submit solutions for your own enjoyment.

</FONT><PRE>**********************************************************************
                           GOLD PROBLEMS
**********************************************************************
                  Three problems numbered 1 through 3
**********************************************************************

Problem 1: Word Games [Adam Spanbauer, 2010]

Farmer John and the cows are playing a word game. FJ gives the cows
W (1 &lt;= W &lt;= 50) words, conveniently numbered 1..W. Each word
consists of at least one and at most 50 lower-case letters ('a'..'z').
Word i (word_i) has a point value V_i (1 &lt;= V_i &lt;= 100).

After FJ supplies the list of words, the cows choose and record a
string of characters T with length N (1 &lt;= N &lt;= 5,000). The cows
earn points each time one of the words in FJ's list occurs as a
contiguous substring of T. More precisely, each time word_i occurs as
a substring of T, the cows get V_i points.

Write a program to determine the maximum number of points the cows
can earn for a given set of words.

PROBLEM NAME: game

INPUT FORMAT:

* Line 1: Two space-separated integers: W and N

* Lines 2..W+1: Line i+1 contains two space-separated integers: V_i
        and word_i

SAMPLE INPUT (file game.in):

3 4
2 aa
5 ab
1 ba

INPUT DETAILS:

Three words, "aa", "ab", and "ba". Their values are 2, 5, and 1. The string
created must be of length 4.

OUTPUT FORMAT:

* Line 1: The maximum number of points that can be earned.

SAMPLE OUTPUT (file game.out):

11

OUTPUT DETAILS:

The string "abab" gets 11 points because it has two instances of "ab" for
5+5 = 10 points and one instance of "ba" for 1 point. The total is 10+1=11
points.

**********************************************************************

Problem 2: Maximum Milk [Brian Dean, 2010]

Farmer John has a list of N (1 &lt;= N &lt;= 250,000) cows conveniently
numbered 1..N that he can purchase. Each cow j has a specific milk
output M_j (1 &lt;= M_j &lt;= 1,000,000,000) as well as the two specific
feed types F1_j and F2_j (1 &lt;= F1_j &lt;= 2*N; 1 &lt;= F2_j &lt;= 2*N; F1_j
!= F2_j) she requires for dinner. She must eat one unit of either
feed type every day.

FJ wants to purchase a set of cows whose total milk output is as
large as possible. However, he must be able to feed all the cows
he purchases, and he can only supply one unit per day of each feed
type. So, for each cow he purchases, he must assign one of the two
feasible feed types it will eat so that at most one cow in the herd
feeds on each specific feed type.

Help Farmer John maximize his milk output. Write a program that
reads in the milk output and feed types for each cow and supplies
the maximum possible milk output.

PROBLEM NAME: maxmilk

INPUT FORMAT:

* Line 1: A single integer: N

* Lines 2..N+1: Line j+1 describes cow j with three space-separated
        integers: M_j, F1_j, and F2_j

SAMPLE INPUT (file maxmilk.in):

5
2 7 2
8 2 8
2 5 2
2 5 8
6 7 5

INPUT DETAILS:

There are five cows. Cows 1, 2, and 3 will eat feed type 2. Cows 3, 4, and
5 will eat feed type 5. Cows 1 and 5 will eat feed type 7, and cows 2 and 4
will eat feed type 8.

OUTPUT FORMAT:

* Line 1: A single integer: Farmer John's maximum possible milk
        output.

SAMPLE OUTPUT (file maxmilk.out):

18

OUTPUT DETAILS:

We can feed cows 1, 2, 3, and 5 by giving cow 1 feed type 2, cow 2
feed type 8, cow 3 feed type 5, and cow 5 feed type 7. This yields
a total milk output of 18, which is the best possible.

**********************************************************************

Problem 3: Similar Trees [Jacob Steinhardt, 2010]

Farmer John is growing two trees on either side of his barn. The
first tree, T1, has N1 (1 &lt;= N1 &lt;= 100) nodes while the second tree,
T2, has N2 (1 &lt;= N2 &lt;= 100) nodes. Nodes in a tree are labeled
0..N-1 with 0 as the root.

FJ wants to make the trees look similar so as to create a perfect
photograph of the trees and barn. Therefore, FJ wants to prune both
trees so that they are isomorphic to each other (as rooted trees).
Two trees A and B are isomorphic if it is possible to relabel the
nodes of A such that the relabeled tree is identical to B and such
that the root of A is identified with the root of B.

FJ wants to be as judicious as possible in his pruning of the trees.
In particular, he wants to minimize the maximum fraction of any
node's children that get pruned. (Pruning a child removes the child's
corresponding subtree.)

As an example, consider the following tree, where + indicates a
node and R indicates the root node:

                     +
                     |
          R--+---+---+--+
             |       |
           +-+--+    +
                |
                +

A possible pruning of the tree which removes no more than 1/2 of
any node's children is:

                     +
                     |
          R--+---+---+--+
             |       #
           +-+#

In the figure above, the #'s indicate subtrees that were removed.

Help FJ by determining the smallest fraction x such that FJ can
make trees T1 and T2 isomorphic by pruning no more than x of each
node's children in either tree. Your answer will be judged correct
if it is within 1.0e-5 of the actual answer. Calculate the fraction
as n_removed_children/n_original_children for each node.

The input specifies the tree structure by naming node parents P1_i
(0 &lt;= P1_i &lt; N1) and P2_i (0 &lt;= P2_i &lt; N2) for non-root nodes.

TIME LIMIT: 2 seconds

PROBLEM NAME: stree

INPUT FORMAT:

* Line 1: Two space-separated integers: N1 and N2

* Lines 2..N1: Line i+1: A single integer that is the parent of node i
        in T1: P1_i

* Lines N1+1..N1+N2-1: Line i+N1: A single integer that is the parent
        of node i in T2: P2_i

SAMPLE INPUT (file stree.in):

8 7
0
3
1
0
1
1
3
5
0
0
2
2
2

INPUT DETAILS:

         0                  0
        / \                / \
       1   4              3   2
     / | \                  / | \
    5  6  3                5  6  4
         / \               |
        7   2              1

OUTPUT FORMAT:

* Line 1: A single decimal fraction: the smallest possible value of x.
        Your answer will be judged correct if it is within 1e-5 of the
        actual answer.

SAMPLE OUTPUT (file stree.out):

0.333333333

OUTPUT DETAILS:

If we delete node 3 from the first tree and node 5 from the second, we get 
isomorphic trees:

         0                  0
        / \                / \
       1   4              3   2
     / |                      | \
    5  6                      6  4

This requires pruning one of node 1's three children in the first
tree, and one of node 2's three children in the second tree. This
gives an x value of 1/3.

**********************************************************************

</PRE><HR>
<FORM action="http://ace.delos.com/ioiupload" enctype="multipart/form-data" method="POST">
<INPUT type="hidden" name="a" value="a2I4GFUlm3j">

<TABLE>
<TBODY><TR><TD>

<TABLE bgcolor="#000000" cellpadding="0" cellspacing="0" border="0" width="100%">
<TBODY><TR><TD height="1"></TR>
<TR><TD width="1"><TD>

  <FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
  <TABLE bgcolor="#bfffbf" cellpadding="5" width="100%">
  <TBODY><TR><TD><B>Submit a program  for grading:&nbsp;<B><INPUT type="file" name="filename">
  &nbsp;&nbsp;
  <INPUT type="submit" value="Submit" name="submit"></B></B></TD></TR>
  </TBODY></TABLE>

</FONT></TD><TD width="1"></TR>
<TR height="1"><TD></TR>
</TBODY></TABLE>


</TD></TR>

<TR><TD><HR></TD></TR>

<TR><TD>

<TABLE bgcolor="#000000" cellpadding="0" cellspacing="0" border="0" width="100%">
<TBODY><TR><TD height="1"></TR>
<TR><TD width="1"><TD>

   <TABLE bgcolor="#bfffbf" cellpadding="5" width="100%">
   <TBODY><TR><TD colspan="2">
   <FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
   <B>To run your program with your own test data, enter the program<BR>
   file name and input file name then click 'Test':</B></FONT></TD></TR>

  <TR><TD>

   <TABLE>
   <TBODY><TR><TD>
     <TABLE>
     <TBODY><TR><TD>
     <FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
     <B>Program&nbsp;File:&nbsp;</B></FONT></TD>
         <TD><INPUT type="file" name="testprogramname"></TD></TR>
     <TR><TD align="right">
         <FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
         <B>Input&nbsp;File:&nbsp;</B></FONT></TD>
         <TD><INPUT type="file" name="testfilename"></TD></TR>
     </TBODY></TABLE>
   </TD>
   <TD>&nbsp;&nbsp;</TD>
   <TD><INPUT type="submit" value="Test" name="submit"></TD>
   </TR>
   </TBODY></TABLE>

   </TD></TR></TBODY></TABLE>

</TD><TD width="1"></TR>
<TR height="1"><TD></TR>
</TBODY></TABLE>

</TD></TR>
<TR><TD><HR></TD></TR>

<TR><TD>

  <TABLE bgcolor="#000000" cellpadding="0" cellspacing="0" border="0" width="100%">
    <TBODY><TR><TD height="1"></TR>
    <TR><TD width="1"><TD>

    <TABLE bgcolor="#bfffbf" cellpadding="5" width="100%">
      <TBODY><TR><TD>
      <FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans">
      <B>Backup a file:&nbsp;</B><INPUT type="file" name="backupfilename">
      &nbsp;&nbsp;&nbsp;<INPUT type="submit" value="Backup" name="submit">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <INPUT type="submit" value="See Backups" name="submit">
      </FONT></TD></TR>
    </TBODY></TABLE>

    </TD><TD width="1"></TR>
    <TR><TD height="1"><TD></TR>
  </TBODY></TABLE>

</TD></TR>
<TR><TD><HR></TD></TR>

</TBODY></TABLE>
<FONT face="Verdana,Helvetica,Tahoma,sans-serif,Arial,Lucida Sans,Gill Sans"> The following solution files are saved for grading:<BR>
<TABLE cellspacing="3">
<TBODY><TR><TH>Name</TH><TH>Size</TH><TH>When</TH><TH>Age</TH></TR>
<TR><TD><A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&seesaved=game.c">game.c</A></TD>
<TD align="right">2230</TD>
<TD align="center">12h42:02</TD>
<TD align="center">50h12:38</TD>
</TR>
<TR><TD><A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&seesaved=maxmilk.c">maxmilk.c</A></TD>
<TD align="right">1696</TD>
<TD align="center">11h12:38</TD>
<TD align="center">51h42:02</TD>
</TR>
<TR><TD><A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&seesaved=stree.c">stree.c</A></TD>
<TD align="right">2336</TD>
<TD align="center">11h29:18</TD>
<TD align="center">51h25:22</TD>
</TR>
</TBODY></TABLE>
<HR>
<CENTER>
<A href="http://ace.delos.com/ioiedit?a=a2I4GFUlm3j">Edit your database record</A>&nbsp;|&nbsp;

<A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&logout=1"> Logout </A>
<!--<a href="https://ace.delos.com/rules.html" target="_blank"> Rules </a>-->
&nbsp;|&nbsp;
<A href="http://ace.delos.com/ioiupload?init=1&a=a2I4GFUlm3j">Main contest index</A>
</CENTER>
<!--&nbsp;|&nbsp;-->
<CENTER>
<A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&showsubmit">See submitted solutions</A>
&nbsp;|&nbsp;
<A href="http://ace.delos.com/ioiupload?a=a2I4GFUlm3j&suggestionbox">Send message
to operations staff</A>
&nbsp;|&nbsp;
Phone: +1 719-321-7333
<BR>
Director is not online<BR>
This page was generated at 20:54:40 GMT.
</CENTER>

</FONT></FORM></BODY></HTML>